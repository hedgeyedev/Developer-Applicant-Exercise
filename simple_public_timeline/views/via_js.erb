<html>
<head>
  <script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
</head>
<body>
  <h1>Recent Public Tweets</h1>
  <h2>What everyone on Twitter is talking about</h2>
  <div id="twits" >
  </div>
</body>
<script type="text/javascript">
  $(document).ready(function() {
    $.ajax({
        type:'GET',
        dataType:'jsonp',
        url:'https://api.twitter.com/1/statuses/public_timeline.json',
        success:function(data, textStatus, XMLHttpRequest) {
            var template = '<div class="twit"><a href="https://twitter.com/{{screen_name}}"><img src="{{profile_image_url}}"></a><p>{{twit_text}}</p><span class="time">{{create_at}}</span><span class="source">via: {{source}}</span></div>'
            for (var i = 0; i < data.length; i++){
              $("#twits").append(template.
                          replace('{{screen_name}}',data[i]['user']['screen_name']).
                          replace('{{profile_image_url}}',data[i]['user']['profile_image_url']).
                          replace('{{twit_text}}',data[i]['text']).
                          replace('{{create_at}}',data[i]['created_at']).
                          replace('{{source}}',data[i]['source']));
            }
            
        },
        error:function(req, status, error) {
            alert('error: '+status);
        }
    });
  });
</script>
</html>
